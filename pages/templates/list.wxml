<view class="template-container">
  <!-- é¡¶éƒ¨ç­›é€‰æ  -->
  <view class="filter-section">
    <view class="filter-header">
      <text class="filter-title">æ¨¡æ¿åº“</text>
      <view class="filter-actions">
        <view class="filter-btn" bindtap="toggleSort">
          <text class="filter-icon">ğŸ”½</text>
          <text class="filter-text">æ’åº</text>
        </view>
        <view class="filter-btn" bindtap="toggleFilter">
          <text class="filter-icon">âš™ï¸</text>
          <text class="filter-text">ç­›é€‰</text>
        </view>
      </view>
    </view>
    
    <!-- ç­›é€‰æ¡ä»¶å±•ç¤º -->
    <view class="active-filters" wx:if="{{sceneName || kw}}">
      <text class="filter-label">å½“å‰ç­›é€‰ï¼š</text>
      <view class="filter-chips">
        <view wx:if="{{sceneName}}" class="filter-chip active">
          <text class="chip-text">{{sceneName}}</text>
          <text class="chip-close" bindtap="clearSceneFilter">Ã—</text>
        </view>
        <view wx:if="{{kw}}" class="filter-chip active">
          <text class="chip-text">å…³é”®è¯ï¼š{{kw}}</text>
          <text class="chip-close" bindtap="clearKeywordFilter">Ã—</text>
        </view>
      </view>
    </view>
  </view>

  <!-- æ¨¡æ¿ç½‘æ ¼ -->
  <view class="template-grid">
    <block wx:for="{{list}}" wx:key="id">
      <view class="template-card card" bindtap="useTemplate" data-id="{{item.id}}">
        <!-- æ¨¡æ¿é¢„è§ˆåŒºåŸŸ -->
        <view class="template-preview" style="background: {{item.coverColor}};">
          <view class="template-overlay">
            <text class="template-name">{{item.name}}</text>
            <view class="template-meta">
              <view class="template-badge">{{item.scene || 'é€šç”¨'}}</view>
              <view class="template-actions">
                <text class="action-icon">ğŸ‘ï¸</text>
                <text class="action-count">{{item.views || 0}}</text>
              </view>
            </view>
          </view>
        </view>
        
        <!-- æ¨¡æ¿ä¿¡æ¯åŒºåŸŸ -->
        <view class="template-info">
          <view class="template-header">
            <text class="template-title">{{item.name}}</text>
            <view class="template-rating">
              <text class="rating-icon">â­</text>
              <text class="rating-value">{{item.rating || 4.8}}</text>
            </view>
          </view>
          
          <text class="template-desc">{{item.description || 'ä¸“ä¸šçš„å›¾æ–‡è®¾è®¡æ¨¡æ¿'}}</text>
          
          <view class="template-footer">
            <view class="template-stats">
              <text class="stat-item">å°ºå¯¸ï¼š{{item.size || '1:1'}}</text>
              <text class="stat-item">å…ƒç´ ï¼š{{item.elements || 5}}+</text>
            </view>
            <view class="template-tags">
              <text class="template-tag" wx:for="{{item.tags || ['åˆ›æ„', 'ç®€çº¦']}}" wx:key="*this">{{item}}</text>
            </view>
          </view>
        </view>
        
        <!-- ä½¿ç”¨æŒ‰é’® -->
        <view class="template-cta">
          <button class="btn-primary use-btn" bindtap="useTemplate" data-id="{{item.id}}">
            <text class="btn-text">ä½¿ç”¨æ¨¡æ¿</text>
          </button>
        </view>
      </view>
    </block>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view wx:if="{{!list.length}}" class="empty-state">
    <view class="empty-icon">ğŸ¨</view>
    <text class="empty-title">æš‚æ— æ¨¡æ¿</text>
    <text class="empty-desc">è¯·å°è¯•è°ƒæ•´ç­›é€‰æ¡ä»¶æˆ–è”ç³»ç®¡ç†å‘˜</text>
    <button class="btn-secondary" bindtap="resetFilters">é‡ç½®ç­›é€‰</button>
  </view>

  <!-- åŠ è½½æ›´å¤š -->
  <view wx:if="{{hasMore}}" class="load-more">
    <button class="btn-secondary load-btn" bindtap="loadMore">
      <text class="btn-text">åŠ è½½æ›´å¤šæ¨¡æ¿</text>
    </button>
  </view>
</view>

